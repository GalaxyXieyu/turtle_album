testcase:
  name: 认证模块集成测试
  description: 测试登录、登出、Token验证等认证相关接口
  host: http://localhost:8000
  steps:
  - id: login_success
    path: /api/auth/login
    method: POST
    data:
      password: admin123
      username: admin
    assert:
    - type: status_code
      expected: 200
    - type: equals
      field: message
      expected: Login successful
  - id: login_wrong_password
    path: /api/auth/login
    method: POST
    data:
      password: wrongpassword
      username: admin
    assert:
    - type: status_code
      expected: 401
  - id: verify_token
    path: /api/auth/verify
    method: GET
    headers:
      Authorization: Bearer {{login_success.data.token}}
    assert:
    - type: status_code
      expected: 200
    - type: equals
      field: message
      expected: Token is valid
  - id: verify_invalid_token
    path: /api/auth/verify
    method: GET
    headers:
      Authorization: Bearer invalid_token_here
    assert:
    - type: status_code
      expected: 401
  - id: logout
    path: /api/auth/logout
    method: POST
    headers:
      Authorization: Bearer {{login_success.data.token}}
    assert:
    - type: status_code
      expected: 200
    - type: equals
      field: message
      expected: Logout successful
